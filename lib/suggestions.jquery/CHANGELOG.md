Changelog
=========

### 22.09.2016 16.6.4

* исправлены ограничения для компаний

### 23.08.2016 16.6.3

* расчет value на клиенте после обогащения для городов-регионов

### 14.08.2016 16.6.2

* расчет value на клиенте после обогащения

### 30.06.2016 16.6.1

* автовыбор компании или банка по энтеру при частичном совпадении с единственной подсказкой
* автовыбор компании при совпадении ОГРН с единственной подсказкой
* автовыбор банка при совпадении БИК с единственной подсказкой

### 25.06.2016 16.5.4

* добавлены события `suggestions-set`, `suggestions-fixdata`

### 11.06.2016 16.5.3

* пофикшено позиционирование списка на мобильном экране

### 04.05.2016 16.5.1

* поднял версию, чтобы соответствовать серверу

### 13.04.2016 16.4.1

* добавлена опция partner

### 04.02.2016 16.2.1

* добавлен коллбек onSuggestionsFetch

### 12.01.2016 15.12.1

* изменен механизм обогащения выбранного значение

### 17.11.2015 15.11.2

* добавлена поддержка метода `findById`
* добавлена опция `requestMode`

### 16.11.2015 15.11.1

* вызов публичных методов в недоинициализированном плагине не ведет к ошибкам

### 16.11.2015 15.10.4

* добавлен учет страны в органичениях по адресу

### 28.10.2015 15.10.3

* изменен алгоритм автовыбора имен

### 27.10.2015 15.10.2

* добавлена опция initializeInterval

### 08.09.2015 15.8.1

* сделана отложенная инициализация если элемент не виден

### 17.07.2015 15.7.4

* изменена логика подсветки подсказок в списке

### 23.06.2015 15.7.3

* удалена опция useDadata
* добавлен вызова метода `status` при инициализации

### 22.06.2015 15.7.2

* увеличен приоритет стилей для .suggestions-constraints

### 22.06.2015 15.7.1

* метод `setSuggestion` устанавливает подсказку с учетом `bounds` - убирает лишние поля

### 14.05.2015 15.6.1

* добавлена опция `timeout`

### 27.04.2015 15.5.4

* починено скрытие списка при потере фокуса во время ожидания ответа от сервера
* проведен рефакторинг

### 22.04.2015 15.5.3

* для организаций подключена приоритезация по геолокации, как и для адресов

### 22.04.2015 15.5.2

* опция `triggerSelectOnSpace` по умолчанию установлена в `false`,
* добавлены опции `triggerSelectOnEnter` и `triggerSelectOnBlur` (по умолчанию `true`)

### 18.04.2015 15.5.1

* убран повторный выбор подсказки при потере фокуса, если она уже была выбрана

### 05.03.2015 15.3.1

* добавлена опция `floating`, заставляющая отображать выпадающий список поверх всего документа 

### 23.02.2015 15.2.6

* добавлен второй параметр в `onSelect` - показывает, было ли реально выбрано новое значение (`true`), или только обогащено текущее (`false`) 

### 23.02.2015 15.2.5

* для банков отображается БИК и адрес
* ликвидированные банки и организации отображаются перечеркнутыми

### 23.02.2015 15.2.4

* отображение альтернативных полей для организаций, если есть совпадения по ним (ОГРН вместо ИНН, ФИО руководителя вместо адреса, латинское название вместо обычного)

### 23.02.2015 15.2.3

* при выборе банка в текстбокс подставляется значение из `data.name.payment`

### 10.02.2015 15.2.2

* добавил метод `fixData` для получения полных данных по сохраненному значению
 
### 27.01.2015 15.2.1

* добавил тип BANK 
 
### 26.01.2015 15.1.2

* onSearchError не вызывается для искусстенно прерванных запросов
* onSearchError вызывается для ошибок авторизации
* автовыбор в организациях производится только для единственной подсказки
 
### 20.01.2015 15.1.1

* предотвращен бесконечный вызов колбэков
 
### 11.01.2015 4.10.7

* подсветка слов в составных словах
 
### 08.01.2015 4.10.6

* добавлена поддержка события input 

### 30.12.2014 4.10.5

* кэширование обогащенных адресов 

### 26.12.2014 4.10.4

* обогащение оставлено только для адресов

### 24.12.2014 4.10.3

* удалена проверка qc-полей при обогащении

### 18.12.2014 4.10.2

* убран анализ кода качества при обогащении 

### 15.12.2014

* пробел добавляется при выборе адреса пока не указана квартира 

### 20.11.2014 4.10.1

* обогащение при выборе пробелом отключено 

### 31.10.2014

* удалил устаревшую опцию `delimiter`

### 29.10.2014 4.9.7

* добавлена опция `formatSelected`
* для типа NAME выбор посказок продолжается при выборе вручную
 
### 23.10.2014

* добавлена опция `suggest_local` 

### 20.10.2014 4.9.6

* добавлена тип `EMAIL` 

### 20.10.2014 4.9.5

* добавлены расшифровывающие метки к одинаковым подсказкам

### 16.10.2014 4.9.4

* опции `usePreloader` и `showClear` заменены на `addon`

### 15.10.2014 4.9.3

* при сериализации объекта адреса учитываются поля `region_with_type` - `street_with_type` 

### 15.10.2014 4.9.2

* добавлена опция `showClear`
* добавлена кнопка очистки

### 09.10.2014 4.9.1

* добавлена возможность задавать неотображаемые `constraints`  

### 01.10.2014

* если `constraints` ссылаются на другие контролы, то при отправке запроса они просматриваются на несколько уровней
* если `constraints` ссылаются на другие контролы, и они не заполнены, в них подставляются части выбранной подсказки

### 30.09.2014 4.8.5

* добавлена опция `mobileWidth`
* добавлена опция `scrollOnFocus`
* удалены опции `maxHeight`, `zIndex`
* изменен вид списка для мобильных устройств
* для мобильных устройств наименования организаций обрезаются до 50 символов
* для мобильных устройств добавлен автоскролл
* изменен формат вызова функции `formatResult`

### 29.09.2014

* опция `constraints` может быть jQuery-объектом с тектбоксом

### 17.09.2014 4.8.4

* добавлена генерация событий на текстбоксе
* добавлена опция `bounds`

### 16.09.2014 4.8.3

* в функцию formatResult добавлен параметр unformattableTokens
* в функцию formatResult добавлено экранирование html-небезопасных символов
* обновлены зависимости для grunt

### 08.09.2014 4.8.2 

* перемещение указателя мыши над списком подсказок не выделяет их 

### 08.09.2014 4.8.1

* отдельная логика автовыбора подсказок для компаний, учитывает совпадения по ИНН, ОГРН, ОПФ (краткому и полному), Наименованию (полному, краткому, латинскому), Адресу.
* значение по умолчанию для опции `count` установлено в 5

### 01.09.2014

* для предприятий выводятся ИНН

### 4.7.2 25.08.2014

* добавлена опция `headers` 

### 4.7.1 18.08.2014

* добавлена опция `geoLocation`
* информация о местонахождении клиента не выводится как ограничение
* опции по умолчанию доступны через $.Suggestions.defaultOptions
* опция $.Suggestions.defaultHint перенесена в $.Suggestions.defaultOptions.hint

### 4.6.4 30.07.2014

* в запросы добавлена информация о версии плагина 

### 4.6.3 28.07.2014

* параметр `restrictions` заменен на `locations`

### 4.6.2 23.07.2014

* отменено обогащение через dadata.ru

### 4.6.1 01.07.2014

* для компаний, даты регистрации и ликвидации добавляются к пдсказке на клиенте
* для компаний, добавлен вывод адреса

### 4.5.2 19.06.2014

* метод в запросе стандартизации заменен на `clean-suggestion`
* в запрос стандартизации добавлен параметр `checksum`

### 4.5.1 10.06.2014

* добавлен тип `PARTY`
* добавлен метод `update`
* опция `params` может быть функцией

### 4.4.7 11.06.2014

* для браузеров, не поддерживающих CORS, функционал ограничений отключен

### 4.4.6 02.06.2014

* добавлен класс `suggestions-input`, назначаемый на input при инициализации

### 4.4.5 29.05.2014

* обрезаются начальные части подсказок, когда установлено ограничение области поиска

### 4.4.4 16.05.2014

* для браузеров, не поддерживающих CORS, отправка токена аутентификации осуществляется в параметре URL

### 4.4.3 23.04.2014

* опция `type` сделана обязательной
* опция `serviceUrl` указывает на корневую папку веб-сервиса, полный путь строится автоматически
* опция `serviceUrl` не может быть функцией
* удалена опция `ignoreParams`
* добавлено автоматическое определение местоположения по IP и установка его в качестве ограничения для адресов

### 4.4.2 02.04.2014

* добавлена опция `constraints`, определяющая ограничения для поиска

### 4.4.1 28.03.2014

* удалена опция `lookup`
* удалена опция `lookupFilter`
* удалена опция `lookupLimit`
* удалена опция `transformResult`
* удалена опция `triggerSelectOnValidInput`
* в обработчик `onInvalidateSelection` передается объект `suggestions`, который был прежде выбран
* проведен рефакторинг

### 4.3.4 24.04.2014

* добавлена опция $helpers
* добавлен метод `setSuggestion`

### 4.3.3 21.03.2014

* удалена опция `dadataType`
* добавлена опция `type`
* добавлена опция `useDadata`
* добавлена опция `count`
* добавляется пробел после выбранной подсказки, если она не содержит всех нужных полей

### 4.3.2 20.03.2014

* добавлено обращение к dadata.ru при выборе подсказки из списка и в случаях, когда получен ответ без подсказок
* добавлена опция `dadataType`
* значение по умолчанию для опции `preventBadQueries` изменено на `false`

### 4.3.1 14.03.2014

* добавлен поясняющий текст вверху выпадающего списка

### 4.2.3 13.03.2014

* файл плагина переименован в jquery.suggestions.js
* добавлены дополнительные элементы, создаваемые при инициализации плагина
* добавлен анимированный прелоадер
* добавлена опция `usePreloader`
* удалена опция `appendTo`; список подсказок всегда вставляется в элемент-обертку
* переименованы css классы, теперь они начинаются с 'suggestions-'
* добавлены стили по умолчанию

### 4.2.2 03.03.2014

* по нажатию ENTER, если ни одной подсказки не выделено, ищется и выделяется подсказка, совпадающая с поисковой фразой
* перемещение по подсказкам с помощью клавиш ВВЕРХ и ВНИЗ зациклено
* после щелчка на подсказке, фокус отстается в поле ввода
 
### 4.2.1 18.02.2014

* по нажатию ENTER, если ни одной подсказки не выделено, выделяется первая

### 4.2.0 07.02.2014

* добавлена опция `token`. Если она задана, при инициализации отправляется авторизационный запрос
* опция `selectOnSpace` переименована в `triggerSelectOnSpace`
